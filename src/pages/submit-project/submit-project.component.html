<main class="min-h-screen bg-gray-50 pb-16">
  <!-- Hero Section -->
  <section
    class="relative bg-gradient-to-r from-blue-900 to-blue-700 text-white py-16"
  >
    <div class="absolute inset-0 overflow-hidden">
      <div
        class="absolute top-20 left-20 w-40 h-40 bg-blue-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-float"
      ></div>
      <div
        class="absolute bottom-20 right-20 w-60 h-60 bg-purple-400 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-float"
        style="animation-delay: 2s"
      ></div>
    </div>
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h1 class="text-4xl font-bold mb-4">Submit Your Project</h1>
      <p class="text-xl text-blue-100 max-w-3xl">
        Share your innovative work with the academic community and showcase your
        skills and achievements
      </p>
    </div>
  </section>

  <!-- Form Section -->
  <section class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 -mt-8">
    <div class="bg-white rounded-xl shadow-lg p-8">
      <!-- Success Message -->
      <div
        *ngIf="submitSuccess"
        class="mb-8 p-6 bg-green-100 border border-green-200 text-green-800 rounded-lg"
      >
        <div class="flex items-center">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6 mr-3 text-green-600"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
            />
          </svg>
          <div>
            <h3 class="font-bold text-lg">Project Submitted Successfully!</h3>
            <p class="mt-1">
              Thank you for submitting your project. It will be reviewed by our
              team and published soon.
            </p>
          </div>
        </div>
      </div>

      <!-- Error Message -->
      <div
        *ngIf="submitError"
        class="mb-8 p-6 bg-red-100 border border-red-200 text-red-800 rounded-lg"
      >
        <div class="flex items-center">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6 mr-3 text-red-600"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
            />
          </svg>
          <div>
            <h3 class="font-bold text-lg">Submission Error</h3>
            <p class="mt-1">{{ errorMessage }}</p>
          </div>
        </div>
      </div>

      <!-- Progress Steps -->
      <div *ngIf="!submitSuccess" class="mb-8">
        <div class="flex items-center justify-between">
          <div
            *ngFor="let step of [1, 2, 3, 4]; let i = index"
            class="flex-1 relative"
          >
            <div class="flex items-center justify-center">
              <div
                [ngClass]="[
                  currentStep > i + 1
                    ? 'bg-blue-600 text-white'
                    : currentStep === i + 1
                    ? 'bg-blue-100 text-blue-600 border-2 border-blue-600'
                    : 'bg-gray-100 text-gray-500',
                  'rounded-full h-10 w-10 flex items-center justify-center font-bold text-lg z-10'
                ]"
              >
                {{ i + 1 }}
              </div>
            </div>
            <div
              class="text-xs text-center mt-2 font-medium"
              [ngClass]="
                currentStep >= i + 1 ? 'text-blue-600' : 'text-gray-500'
              "
            >
              {{
                i === 0
                  ? "Basic Info"
                  : i === 1
                  ? "Team"
                  : i === 2
                  ? "Technical"
                  : "Media"
              }}
            </div>
            <div
              *ngIf="i < 3"
              class="absolute top-5 left-1/2 w-full h-1"
              [ngClass]="currentStep > i + 1 ? 'bg-blue-600' : 'bg-gray-200'"
            ></div>
          </div>
        </div>
      </div>

      <!-- Form -->
      <form
        *ngIf="!submitSuccess && !previewMode"
        [formGroup]="projectForm"
        (ngSubmit)="submitProject()"
      >
        <!-- Step 1: Basic Information -->
        <div *ngIf="currentStep === 1">
          <h2 class="text-2xl font-bold text-gray-900 mb-6">
            Basic Information
          </h2>

          <!-- Title -->
          <div class="mb-6">
            <label
              for="title"
              class="block text-sm font-medium text-gray-700 mb-1"
              >Project Title *</label
            >
            <input
              type="text"
              id="title"
              formControlName="title"
              class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
              [ngClass]="{
                'border-red-500':
                  hasError('title', 'required') ||
                  hasError('title', 'minlength') ||
                  hasError('title', 'maxlength')
              }"
            />
            <div
              *ngIf="hasError('title', 'required')"
              class="mt-1 text-sm text-red-600"
            >
              Title is required
            </div>
            <div
              *ngIf="hasError('title', 'minlength')"
              class="mt-1 text-sm text-red-600"
            >
              Title must be at least 5 characters
            </div>
            <div
              *ngIf="hasError('title', 'maxlength')"
              class="mt-1 text-sm text-red-600"
            >
              Title cannot exceed 100 characters
            </div>
          </div>

          <!-- Description -->
          <div class="mb-6">
            <label
              for="description"
              class="block text-sm font-medium text-gray-700 mb-1"
              >Project Description *</label
            >
            <textarea
              id="description"
              formControlName="description"
              rows="5"
              class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
              [ngClass]="{
                'border-red-500':
                  hasError('description', 'required') ||
                  hasError('description', 'minlength') ||
                  hasError('description', 'maxlength')
              }"
            ></textarea>
            <div
              *ngIf="hasError('description', 'required')"
              class="mt-1 text-sm text-red-600"
            >
              Description is required
            </div>
            <div
              *ngIf="hasError('description', 'minlength')"
              class="mt-1 text-sm text-red-600"
            >
              Description must be at least 50 characters
            </div>
            <div
              *ngIf="hasError('description', 'maxlength')"
              class="mt-1 text-sm text-red-600"
            >
              Description cannot exceed 1000 characters
            </div>
            <div class="mt-1 text-sm text-gray-500">
              Provide a detailed description of your project, including its
              purpose, features, and significance.
            </div>
          </div>

          <!-- Field, Type, Year -->
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Field -->
            <div>
              <label
                for="field"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Field *</label
              >
              <select
                id="field"
                formControlName="field"
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                [ngClass]="{ 'border-red-500': hasError('field', 'required') }"
              >
                <option value="" disabled>Select a field</option>
                <option *ngFor="let field of fields" [value]="field.id">
                  {{ field.title }}
                </option>
              </select>
              <div
                *ngIf="hasError('field', 'required')"
                class="mt-1 text-sm text-red-600"
              >
                Field is required
              </div>
            </div>

            <!-- Type -->
            <div>
              <label
                for="type"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Project Type *</label
              >
              <select
                id="type"
                formControlName="type"
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                [ngClass]="{ 'border-red-500': hasError('type', 'required') }"
              >
                <option value="" disabled>Select a type</option>
                <option *ngFor="let type of projectTypes" [value]="type">
                  {{ type }}
                </option>
              </select>
              <div
                *ngIf="hasError('type', 'required')"
                class="mt-1 text-sm text-red-600"
              >
                Project type is required
              </div>
            </div>

            <!-- Year -->
            <div>
              <label
                for="year"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Academic Year *</label
              >
              <select
                id="year"
                formControlName="year"
                class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                [ngClass]="{ 'border-red-500': hasError('year', 'required') }"
              >
                <option *ngFor="let year of years" [value]="year">
                  {{ year }}
                </option>
              </select>
              <div
                *ngIf="hasError('year', 'required')"
                class="mt-1 text-sm text-red-600"
              >
                Academic year is required
              </div>
            </div>
          </div>
        </div>

        <!-- Step 2: Team Information -->
        <div *ngIf="currentStep === 2">
          <h2 class="text-2xl font-bold text-gray-900 mb-6">
            Team Information
          </h2>

          <!-- Students -->
          <div class="mb-8">
            <div class="flex justify-between items-center mb-3">
              <label class="block text-sm font-medium text-gray-700"
                >Students *</label
              >
              <button
                type="button"
                (click)="addStudent()"
                class="inline-flex items-center px-3 py-1 border border-blue-700 text-blue-700 rounded-md text-sm hover:bg-blue-50"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-4 w-4 mr-1"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M12 5v14M5 12h14" />
                </svg>
                Add Student
              </button>
            </div>

            <div formArrayName="students" class="space-y-3">
              <div
                *ngFor="let student of studentsArray.controls; let i = index"
                [formGroupName]="i"
                class="flex items-center gap-3"
              >
                <div class="flex-grow">
                  <input
                    type="text"
                    formControlName="name"
                    placeholder="Student name"
                    class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                    [ngClass]="{
                      'border-red-500':
                        getFormArrayItemError(
                          studentsArray,
                          i,
                          'name',
                          'required'
                        ) ||
                        getFormArrayItemError(
                          studentsArray,
                          i,
                          'name',
                          'minlength'
                        )
                    }"
                  />
                  <div
                    *ngIf="
                      getFormArrayItemError(
                        studentsArray,
                        i,
                        'name',
                        'required'
                      )
                    "
                    class="mt-1 text-sm text-red-600"
                  >
                    Student name is required
                  </div>
                  <div
                    *ngIf="
                      getFormArrayItemError(
                        studentsArray,
                        i,
                        'name',
                        'minlength'
                      )
                    "
                    class="mt-1 text-sm text-red-600"
                  >
                    Name must be at least 3 characters
                  </div>
                </div>
                <button
                  type="button"
                  (click)="removeStudent(i)"
                  class="p-2 text-red-500 hover:text-red-700"
                  [disabled]="studentsArray.length === 1"
                  [ngClass]="{
                    'opacity-50 cursor-not-allowed': studentsArray.length === 1
                  }"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path d="M18 6L6 18M6 6l12 12" />
                  </svg>
                </button>
              </div>
            </div>
          </div>

          <!-- Supervisors -->
          <div class="mb-6">
            <div class="flex justify-between items-center mb-3">
              <label class="block text-sm font-medium text-gray-700"
                >Supervisors *</label
              >
              <button
                type="button"
                (click)="addSupervisor()"
                class="inline-flex items-center px-3 py-1 border border-blue-700 text-blue-700 rounded-md text-sm hover:bg-blue-50"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-4 w-4 mr-1"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M12 5v14M5 12h14" />
                </svg>
                Add Supervisor
              </button>
            </div>

            <div formArrayName="supervisors" class="space-y-3">
              <div
                *ngFor="
                  let supervisor of supervisorsArray.controls;
                  let i = index
                "
                [formGroupName]="i"
                class="flex items-center gap-3"
              >
                <div class="flex-grow">
                  <input
                    type="text"
                    formControlName="name"
                    placeholder="Supervisor name"
                    class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                    [ngClass]="{
                      'border-red-500':
                        getFormArrayItemError(
                          supervisorsArray,
                          i,
                          'name',
                          'required'
                        ) ||
                        getFormArrayItemError(
                          supervisorsArray,
                          i,
                          'name',
                          'minlength'
                        )
                    }"
                  />
                  <div
                    *ngIf="
                      getFormArrayItemError(
                        supervisorsArray,
                        i,
                        'name',
                        'required'
                      )
                    "
                    class="mt-1 text-sm text-red-600"
                  >
                    Supervisor name is required
                  </div>
                  <div
                    *ngIf="
                      getFormArrayItemError(
                        supervisorsArray,
                        i,
                        'name',
                        'minlength'
                      )
                    "
                    class="mt-1 text-sm text-red-600"
                  >
                    Name must be at least 3 characters
                  </div>
                </div>
                <button
                  type="button"
                  (click)="removeSupervisor(i)"
                  class="p-2 text-red-500 hover:text-red-700"
                  [disabled]="supervisorsArray.length === 1"
                  [ngClass]="{
                    'opacity-50 cursor-not-allowed':
                      supervisorsArray.length === 1
                  }"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path d="M18 6L6 18M6 6l12 12" />
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Step 3: Technical Details -->
        <div *ngIf="currentStep === 3">
          <h2 class="text-2xl font-bold text-gray-900 mb-6">
            Technical Details
          </h2>

          <!-- Technologies -->
          <div class="mb-8">
            <div class="flex justify-between items-center mb-3">
              <label class="block text-sm font-medium text-gray-700"
                >Technologies Used *</label
              >
              <button
                type="button"
                (click)="addTechnology()"
                class="inline-flex items-center px-3 py-1 border border-blue-700 text-blue-700 rounded-md text-sm hover:bg-blue-50"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-4 w-4 mr-1"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M12 5v14M5 12h14" />
                </svg>
                Add Technology
              </button>
            </div>

            <div formArrayName="technologies" class="space-y-3">
              <div
                *ngFor="let tech of technologiesArray.controls; let i = index"
                [formGroupName]="i"
                class="flex items-center gap-3"
              >
                <div class="flex-grow">
                  <input
                    type="text"
                    formControlName="name"
                    placeholder="Technology name (e.g., React, Python, TensorFlow)"
                    class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                    [ngClass]="{
                      'border-red-500':
                        getFormArrayItemError(
                          technologiesArray,
                          i,
                          'name',
                          'required'
                        ) ||
                        getFormArrayItemError(
                          technologiesArray,
                          i,
                          'name',
                          'minlength'
                        )
                    }"
                  />
                  <div
                    *ngIf="
                      getFormArrayItemError(
                        technologiesArray,
                        i,
                        'name',
                        'required'
                      )
                    "
                    class="mt-1 text-sm text-red-600"
                  >
                    Technology name is required
                  </div>
                  <div
                    *ngIf="
                      getFormArrayItemError(
                        technologiesArray,
                        i,
                        'name',
                        'minlength'
                      )
                    "
                    class="mt-1 text-sm text-red-600"
                  >
                    Name must be at least 2 characters
                  </div>
                </div>
                <button
                  type="button"
                  (click)="removeTechnology(i)"
                  class="p-2 text-red-500 hover:text-red-700"
                  [disabled]="technologiesArray.length === 1"
                  [ngClass]="{
                    'opacity-50 cursor-not-allowed':
                      technologiesArray.length === 1
                  }"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path d="M18 6L6 18M6 6l12 12" />
                  </svg>
                </button>
              </div>
            </div>
          </div>

          <!-- URLs -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- GitHub URL -->
            <div>
              <label
                for="githubUrl"
                class="block text-sm font-medium text-gray-700 mb-1"
                >GitHub Repository URL (Optional)</label
              >
              <div class="relative">
                <div
                  class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 text-gray-400"
                    viewBox="0 0 24 24"
                    fill="currentColor"
                  >
                    <path
                      d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                    />
                  </svg>
                </div>
                <input
                  type="text"
                  id="githubUrl"
                  formControlName="githubUrl"
                  placeholder="https://github.com/username/repo"
                  class="w-full pl-10 px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                  [ngClass]="{
                    'border-red-500': hasError('githubUrl', 'pattern')
                  }"
                />
              </div>
              <div
                *ngIf="hasError('githubUrl', 'pattern')"
                class="mt-1 text-sm text-red-600"
              >
                Please enter a valid URL
              </div>
            </div>

            <!-- Demo URL -->
            <div>
              <label
                for="demoUrl"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Live Demo URL (Optional)</label
              >
              <div class="relative">
                <div
                  class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5 text-gray-400"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"
                    ></path>
                    <polyline points="15 3 21 3 21 9"></polyline>
                    <line x1="10" y1="14" x2="21" y2="3"></line>
                  </svg>
                </div>
                <input
                  type="text"
                  id="demoUrl"
                  formControlName="demoUrl"
                  placeholder="https://your-demo-site.com"
                  class="w-full pl-10 px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
                  [ngClass]="{
                    'border-red-500': hasError('demoUrl', 'pattern')
                  }"
                />
              </div>
              <div
                *ngIf="hasError('demoUrl', 'pattern')"
                class="mt-1 text-sm text-red-600"
              >
                Please enter a valid URL
              </div>
            </div>
          </div>
        </div>

        <!-- Step 4: Media -->
        <div *ngIf="currentStep === 4">
          <h2 class="text-2xl font-bold text-gray-900 mb-6">Project Media</h2>

          <!-- Image Upload -->
          <div class="mb-8">
            <label class="block text-sm font-medium text-gray-700 mb-1"
              >Project Images *</label
            >
            <div
              class="mt-2 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"
              [ngClass]="{
                'border-red-500':
                  projectForm.get('images')?.touched &&
                  !projectForm.get('images')?.value
              }"
            >
              <div class="space-y-1 text-center">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="mx-auto h-12 w-12 text-gray-400"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
                  />
                </svg>
                <div class="flex text-sm text-gray-600">
                  <label
                    for="file-upload"
                    class="relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500"
                  >
                    <span>Upload images</span>
                    <input
                      id="file-upload"
                      name="file-upload"
                      type="file"
                      class="sr-only"
                      multiple
                      accept="image/*"
                      (change)="onFileChange($event)"
                    />
                  </label>
                  <p class="pl-1">or drag and drop</p>
                </div>
                <p class="text-xs text-gray-500">
                  PNG, JPG, GIF up to 10MB each
                </p>
              </div>
            </div>
            <div
              *ngIf="
                projectForm.get('images')?.touched &&
                !projectForm.get('images')?.value
              "
              class="mt-1 text-sm text-red-600"
            >
              At least one project image is required
            </div>
          </div>

          <!-- Image Previews -->
          <div
            *ngIf="projectForm.get('imagePreviewUrls')?.value?.length"
            class="mb-8"
          >
            <h3 class="text-lg font-medium text-gray-900 mb-3">
              Selected Images
            </h3>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
              <div
                *ngFor="
                  let preview of projectForm.get('imagePreviewUrls')?.value;
                  let i = index
                "
                class="relative"
              >
                <img
                  [src]="preview"
                  alt="Preview"
                  class="h-32 w-full object-cover rounded-md"
                />
                <button
                  type="button"
                  (click)="removeImage(i)"
                  class="absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path d="M18 6L6 18M6 6l12 12" />
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Navigation Buttons -->
        <div class="flex justify-between mt-8">
          <button
            type="button"
            *ngIf="currentStep > 1"
            (click)="previousStep()"
            class="px-6 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition duration-200"
          >
            Previous
          </button>
          <div class="ml-auto flex space-x-3">
            <button
              type="button"
              *ngIf="currentStep === totalSteps"
              (click)="togglePreview()"
              class="px-6 py-3 border border-blue-700 text-blue-700 rounded-md hover:bg-blue-50 transition duration-200"
            >
              Preview
            </button>
            <button
              type="button"
              *ngIf="currentStep < totalSteps"
              (click)="nextStep()"
              [disabled]="!isCurrentStepValid()"
              [ngClass]="{
                'opacity-50 cursor-not-allowed': !isCurrentStepValid()
              }"
              class="px-6 py-3 bg-blue-700 text-white rounded-md hover:bg-blue-800 transition duration-200"
            >
              Next
            </button>
            <button
              type="submit"
              *ngIf="currentStep === totalSteps"
              [disabled]="!projectForm.valid || isSubmitting"
              [ngClass]="{
                'opacity-50 cursor-not-allowed':
                  !projectForm.valid || isSubmitting
              }"
              class="px-6 py-3 bg-blue-700 text-white rounded-md hover:bg-blue-800 transition duration-200 flex items-center"
            >
              <span *ngIf="isSubmitting" class="mr-2">
                <svg
                  class="animate-spin h-5 w-5 text-white"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                >
                  <circle
                    class="opacity-25"
                    cx="12"
                    cy="12"
                    r="10"
                    stroke="currentColor"
                    stroke-width="4"
                  ></circle>
                  <path
                    class="opacity-75"
                    fill="currentColor"
                    d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                  ></path>
                </svg>
              </span>
              {{ isSubmitting ? "Submitting..." : "Submit Project" }}
            </button>
          </div>
        </div>
      </form>

      <!-- Preview Mode -->
      <div
        *ngIf="!submitSuccess && previewMode"
        class="bg-gray-50 p-6 rounded-lg"
      >
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-2xl font-bold text-gray-900">Project Preview</h2>
          <button
            type="button"
            (click)="togglePreview()"
            class="px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-100 transition duration-200"
          >
            Back to Edit
          </button>
        </div>

        <div class="bg-white rounded-xl shadow-md overflow-hidden">
          <!-- Project Images -->
          <div
            *ngIf="projectForm.get('imagePreviewUrls')?.value?.length"
            class="relative h-64"
          >
            <div class="absolute inset-0 flex overflow-x-auto snap-x">
              <div
                *ngFor="
                  let preview of projectForm.get('imagePreviewUrls')?.value
                "
                class="h-full w-full flex-shrink-0 snap-center"
              >
                <img
                  [src]="preview"
                  alt="Project image"
                  class="h-full w-full object-cover"
                />
              </div>
            </div>
            <div
              class="absolute bottom-4 left-0 right-0 flex justify-center space-x-2"
            >
              <div
                *ngFor="
                  let preview of projectForm.get('imagePreviewUrls')?.value;
                  let i = index
                "
                class="w-2 h-2 rounded-full bg-white bg-opacity-60"
              ></div>
            </div>
          </div>

          <!-- Project Content -->
          <div class="p-6">
            <!-- Project Badge -->
            <div class="flex items-center justify-between mb-3">
              <span
                [ngClass]="[
                  getButtonClass(
                    getFieldColor(projectForm.get('field')?.value)
                  ),
                  'px-3 py-1 rounded-full text-xs font-medium text-white'
                ]"
              >
                {{ getFieldById(projectForm.get("field")?.value)?.title }}
              </span>
              <span
                class="bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-xs font-medium"
              >
                {{ projectForm.get("type")?.value }} ·
                {{ projectForm.get("year")?.value }}
              </span>
            </div>

            <h3 class="text-xl font-bold text-gray-900 mb-3">
              {{ projectForm.get("title")?.value }}
            </h3>
            <p class="text-gray-600 text-sm mb-4">
              {{ projectForm.get("description")?.value }}
            </p>

            <!-- Technologies -->
            <div class="mb-4">
              <div class="flex flex-wrap gap-2">
                <span
                  *ngFor="let tech of technologiesArray.value"
                  class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded-full"
                >
                  {{ tech.name }}
                </span>
              </div>
            </div>

            <!-- Students & Supervisors -->
            <div class="text-sm text-gray-600 mb-4">
              <div class="flex items-center mb-1">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-4 w-4 mr-2 text-gray-400"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                  <circle cx="9" cy="7" r="4"></circle>
                  <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                  <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                </svg>
                <p>
                  <strong>Students:</strong>
                </p>
              </div>
              <div class="flex items-center">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-4 w-4 mr-2 text-gray-400"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                  <circle cx="12" cy="7" r="4"></circle>
                </svg>
                <p>
                  <strong>Supervisors:</strong>
                </p>
              </div>
            </div>

            <!-- URLs -->
            <div class="flex flex-wrap gap-4 mt-6"><</div>
          </div>
        </div>

        <div class="mt-8 flex justify-end space-x-3"></div>
      </div>
    </div>
  </section>

  <!-- Guidelines Section -->
  <section class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
    <h2 class="text-2xl font-bold text-gray-900 mb-6">Submission Guidelines</h2>

    <div class="bg-white rounded-xl shadow-md p-6">
      <div class="space-y-6">
        <div>
          <h3 class="text-lg font-medium text-gray-900 mb-2">
            Project Information
          </h3>
          <p class="text-gray-600">
            Provide a clear and concise title that accurately reflects your
            project. The description should explain the purpose, features, and
            significance of your project. Be thorough but focused.
          </p>
        </div>

        <div>
          <h3 class="text-lg font-medium text-gray-900 mb-2">Team Details</h3>
          <p class="text-gray-600">
            Include all team members who contributed to the project. Make sure
            to credit your supervisors who guided your work. This information
            helps in proper attribution and recognition.
          </p>
        </div>

        <div>
          <h3 class="text-lg font-medium text-gray-900 mb-2">
            Technical Information
          </h3>
          <p class="text-gray-600">
            List all significant technologies, frameworks, libraries, and tools
            used in your project. If your code is open source, provide a link to
            the GitHub repository. For deployed projects, include a link to the
            live demo.
          </p>
        </div>

        <div>
          <h3 class="text-lg font-medium text-gray-900 mb-2">
            Media Requirements
          </h3>
          <p class="text-gray-600">
            Upload high-quality images that showcase your project. These could
            include screenshots of the interface, diagrams explaining the
            architecture, or photos of physical components if applicable. Images
            should be clear and professional.
          </p>
        </div>

        <div>
          <h3 class="text-lg font-medium text-gray-900 mb-2">Review Process</h3>
          <p class="text-gray-600">
            After submission, your project will be reviewed by faculty members
            to ensure it meets academic standards and guidelines. You may be
            contacted for additional information or clarification if needed.
            Once approved, your project will be published on the showcase
            platform.
          </p>
        </div>
      </div>
    </div>
  </section>
</main>
